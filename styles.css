:root{
  --square-size: 70px;
  --light: #f0d9b5;
  --dark: #b58863;
  --highlight: rgba(0, 200, 0, .35);
  --capture: rgba(200, 0, 0, .35);
  --select: rgba(66, 135, 245, .35);
  --check: rgba(255, 0, 0, .3);
}
*{box-sizing:border-box}
body{
  margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
  background: #111; color:#fff;
  display:flex; align-items:center; justify-content:center; min-height:100vh; padding:20px;
}
.app{display:grid; gap:16px; grid-template-columns: auto 260px; align-items:start}
@media (max-width: 900px){ .app{grid-template-columns: 1fr} }

.board-wrapper{ position:relative; }
.board{ display:grid; grid-template-columns: repeat(8, var(--square-size)); grid-template-rows: repeat(8, var(--square-size));
  border-radius:16px; overflow:hidden; box-shadow: 0 20px 60px rgba(0,0,0,.45);
}
.square{ width:var(--square-size); height:var(--square-size); position:relative; display:flex; align-items:center; justify-content:center; font-size: 44px; cursor:pointer; user-select:none;}
.square.light{ background: var(--light); }
.square.dark{ background: var(--dark); }

.piece{ pointer-events:none; filter: drop-shadow(0 1px 0 rgba(0,0,0,.35)); }
.white{ color:#fff; text-shadow: 0 1px 0 #999; }
.black{ color:#111; text-shadow: 0 1px 0 #444; }

.square.highlight::after{
  content:""; position:absolute; inset:0; background: var(--highlight);
}
.square.capture::after{ content:""; position:absolute; inset:0; background: var(--capture); }
.square.selected::after{ content:""; position:absolute; inset:0; background: var(--select); }
.square.king-in-check::after{ content:""; position:absolute; inset:0; background: var(--check); }

.label{ position:absolute; font-size:12px; color:#0009; }
.label.file{ right:6px; bottom:4px; }
.label.rank{ left:6px; top:4px; }

.panel{ background:#1b1b1f; border:1px solid #2a2a33; padding:16px; border-radius:14px; box-shadow: 0 10px 30px rgba(0,0,0,.35); }
.panel h2{ margin:0 0 12px; font-size:18px; font-weight:700 }
.status{ padding:10px 12px; background:#111; border-radius:10px; border:1px solid #2b2b33; margin-bottom:12px; }
.btns{ display:flex; gap:8px; flex-wrap:wrap }
button{ background:#2e2e36; color:#fff; border:1px solid #3b3b46; padding:10px 12px; border-radius:10px; cursor:pointer }
button:hover{ background:#373744 }

.legend{ display:grid; gap:8px; grid-template-columns: 1fr 1fr; margin-top:12px; }
.legend .card{ background:#111; border:1px solid #2b2b33; border-radius:10px; padding:10px }
.legend h3{ margin:0 0 8px; font-size:14px }
.legend .row{ display:flex; align-items:center; gap:8px; margin:4px 0 }
.dot{ width:18px; height:18px; border-radius:50%; }
.dot.mv{ background: var(--highlight); }
.dot.cap{ background: var(--capture); }
.dot.sel{ background: var(--select); }
.dot.chk{ background: var(--check); }
